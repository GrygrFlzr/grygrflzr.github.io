<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Stopwatch</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="//netdna.bootstrapcdn.com/bootstrap/3.1.1/css/bootstrap.min.css"/>
    <link rel="stylesheet" href="//netdna.bootstrapcdn.com/font-awesome/4.0.3/css/font-awesome.min.css"/>
    <style>
        #time {
            font-size: 5em;
        }
        #time span {
            display: inline-block;
            clear: both;
        }
    </style>
</head>
<body>
    <div class="container text-center">
        <h1>Online Stopwatch</h1>
        <hr>
        
        <span id="time">
            <span id="hour">00</span>:<span id="min">00</span>:<span id="sec">00</span>.<span id="ms">000</span>
        </span>
        <br>
        <button id="start" type="button" class="btn btn-lg btn-primary">Start</button>
        <button id="stop" type="button" class="btn btn-lg btn-danger">Stop</button>
        <button id="reset" type="button" class="btn btn-lg btn-default">Reset</button>
        
        <hr>
        <footer>
            <p>Created by GrygrFlzr (Martin Krisnanto Putra) 2014</p>
        </footer>
    </div>
    
    <!--[if lt IE 9]>
    <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7/html5shiv.min.js"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/respond.js/1.3.0/respond.min.js"></script>
    <![endif]-->
    <script type="text/javascript" src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
    <script type="text/javascript" src="//netdna.bootstrapcdn.com/bootstrap/3.1.1/js/bootstrap.min.js"></script>
    <script type="text/javascript">
        var h = 0;
        var m = 0;
        var s = 0;
        var ms = 0;
        
        var counting = false;
        var start = 0;
        
        function refreshDisplay() {
            $('#hour').text(("0" + h).slice(-2));
            $('#min').text(("0" + m).slice(-2));
            $('#sec').text(("0" + s).slice(-2));
            $('#ms').text(("00" + ms).slice(-3));
        }
        
        $('#start').click(function() {
            counting = true;
            start = Date.now();
        });
        $('#stop').click(function() {
            counting = false;
        });
        $('#reset').click(function() {
            counting = false;
            
            h = 0;
            m = 0;
            s = 0;
            ms = 0;
            
            refreshDisplay();
        });
        
        setInterval(function() {
            if(counting) {
                var tempTime = Date.now() - start;

                h = Math.floor(tempTime / 1000 / 60 / 60);
                m = Math.floor(tempTime % (1000 * 60 * 60) / 1000 / 60);
                s = Math.floor(tempTime % (1000 * 60) / 1000);
                ms = tempTime % 1000;
                refreshDisplay();
            }
        }, 2);
    </script>
</body>
</html>
